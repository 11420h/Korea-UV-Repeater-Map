"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[655],{9437:function(e,n,t){t.r(n),t.d(n,{default:function(){return te}});var r=t(4051),o=t.n(r),i=t(5893),l=t(2648),a=t(2241),c=t(786),s=t(6421),u=t.n(s),f=(t(1948),t(7494)),d=t(8683),h=t(1090),p=t(5963),w=t(4570),x=t(188),Z=t(7517),v=t(8734),m=t(1162),y=t(2482),g=(t(9440),t(1053)),j=t(8125),b=t(9261),S=t(3376),P=t(7539),C=t(1345),k=t(8958),A=t(7890),M=t(7294),I=t(517),O=t(9840),T=t(9334),E=function(e){var n=e.contextMenu,t=e.setContextMenu,r=e.contextMenuFeaturesData,o=e.setRepeaterInfo;return(0,i.jsx)(i.Fragment,{children:null!==n&&(0,i.jsxs)(I.Z,{className:"ContextMenu",open:null!==n,onClose:function(){t(null)},anchorReference:"anchorPosition",sx:{position:"fixed",zIndex:1200},anchorPosition:{top:Math.floor(n.mouseY),left:Math.floor(n.mouseX)},defaultChecked:!1,defaultValue:void 0,children:[(0,i.jsx)(O.Z,{disabled:!0,children:"\uc911\uacc4\uae30"}),r.map((function(e,n){return(0,i.jsx)(O.Z,{onClick:function(){t(null),o(e)},children:(0,i.jsx)(T.Z,{primary:"".concat(e.Name," (CallSign: ").concat(e.Callsign,")"),secondary:"Tx:".concat(e.Tx,", Rx:").concat(e.Rx,", Tone: ").concat(e.Tone)})},n)}))]})})},G=t(1280),R=function(e,n){if(null!==e&&n){var t=e.get("features").length,r=(t>0?e.get("features")[0].getProperties():"").Name;return new P.ZP({image:n>300?new A.Z({radius:14,fill:new C.Z({color:t>30?"#ff3333D0":t>10?"#ffcc33D0":"#33cc33D0"}),stroke:new k.Z({color:"#fff",width:1})}):new A.Z({radius:5,fill:new C.Z({color:"#ff3333"}),stroke:new k.Z({color:"#fff",width:1})}),text:n>300?new G.Z({text:"".concat(t.toString()),fill:new C.Z({color:"#fff"}),stroke:new k.Z({color:"#000",width:2}),font:"bold 14px Arial",textAlign:"center",textBaseline:"middle"}):new G.Z({text:r||"",fill:new C.Z({color:"#ffcc33"}),stroke:new k.Z({color:"#000",width:3}),offsetY:-15,font:'bold 14px "Malgun Gothic", "Apple Gothic", sans-serif',textAlign:"center",textBaseline:"middle"})})}return new P.ZP},z=function(e,n){var t=e.get("COLOR")||"#eeeeee",r=function(e,n){var t=e.get("features")[0].getProperties().Name;return new P.ZP({image:new A.Z({radius:10,fill:new C.Z({color:"#00ff00a0"}),stroke:new k.Z({color:"#ff0000",width:2})}),text:new G.Z({text:t||"",fill:new C.Z({color:"#00ff00"}),stroke:new k.Z({color:"#ff0000",width:3}),offsetY:-20,font:'bold 20px "Malgun Gothic", "Apple Gothic", sans-serif',textAlign:"center",textBaseline:"middle"}),fill:new C.Z({color:"#eeeeee"}),stroke:new k.Z({color:"rgba(255, 255, 255, 0.7)",width:2})})}(e);return r.getFill().setColor(t),r},D=t(657),N=t(7645),F=t(6514),B=t(2882),Y=t(5113),_=t(7906),L=t(295),V=t(3816),X=t(3252),H=t(7918),U=t(1425),$=t(3321);function q(e){var n=e.open,t=e.repeaterInfo,r=e.onClose;return(0,i.jsxs)(D.Z,{open:n,onClose:r,children:[(0,i.jsxs)(N.Z,{children:[null===t||void 0===t?void 0:t.Name," ",null===t||void 0===t?void 0:t.Callsign]}),(0,i.jsx)(F.Z,{children:(0,i.jsx)(B.Z,{component:Y.Z,elevation:1,children:(0,i.jsx)(_.Z,{children:(0,i.jsxs)(L.Z,{children:[(0,i.jsxs)(V.Z,{children:[(0,i.jsx)(X.Z,{component:"th",scope:"row",children:"Tx"}),(0,i.jsxs)(X.Z,{children:[null===t||void 0===t?void 0:t.Tx," Mhz"]})]}),(0,i.jsxs)(V.Z,{children:[(0,i.jsx)(X.Z,{component:"th",scope:"row",children:"Rx"}),(0,i.jsxs)(X.Z,{children:[null===t||void 0===t?void 0:t.Rx," Mhz"]})]}),(0,i.jsxs)(V.Z,{children:[(0,i.jsx)(X.Z,{component:"th",scope:"row",children:"\uc9c0\uc5ed"}),(0,i.jsx)(X.Z,{children:(0,i.jsx)(H.Z,{size:"small",color:"primary",label:null===t||void 0===t?void 0:t.Region})})]}),(0,i.jsxs)(V.Z,{children:[(0,i.jsx)(X.Z,{component:"th",scope:"row",children:"\ud1a4"}),(0,i.jsx)(X.Z,{children:null===t||void 0===t?void 0:t.Tone})]}),(0,i.jsxs)(V.Z,{children:[(0,i.jsx)(X.Z,{component:"th",scope:"row",children:"\uc720\ud615"}),(0,i.jsx)(X.Z,{children:(0,i.jsx)(H.Z,{size:"small",color:"secondary",label:null===t||void 0===t?void 0:t.Type})})]}),(0,i.jsxs)(V.Z,{children:[(0,i.jsx)(X.Z,{component:"th",scope:"row",children:"\uc8fc\uc18c"}),(0,i.jsx)(X.Z,{children:null===t||void 0===t?void 0:t.Address})]})]})})})}),(0,i.jsx)(U.Z,{children:(0,i.jsx)($.Z,{onClick:r,children:"\ub2eb\uae30"})})]})}function J(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function K(e,n,t,r,o,i,l){try{var a=e[i](l),c=a.value}catch(s){return void t(s)}a.done?n(c):Promise.resolve(c).then(r,o)}function Q(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function W(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],l=!0,a=!1;try{for(t=t.call(e);!(l=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==t.return||t.return()}finally{if(a)throw o}}return i}}(e,n)||ne(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e){return function(e){if(Array.isArray(e))return J(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ne(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,n){if(e){if("string"===typeof e)return J(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?J(e,n):void 0}}var te=function(){var e=W(M.useState({open:!1,repeaterInfo:void 0}),2),n=e[0],t=e[1],r=W(M.useState(),2),s=r[0],I=r[1],O=W(M.useState(void 0),2),T=O[0],G=O[1],D=W(M.useState([]),2),N=D[0],F=D[1],B=W(M.useState(null),2),Y=B[0],_=B[1],L=W(M.useState(),2),V=L[0],X=L[1];M.useEffect((function(){var e=new a.ZP({center:(0,g.mi)([126.9388092,37.4355672]),zoom:6,maxZoom:19}),n=new w.Z({trackingOptions:{enableHighAccuracy:!0},projection:e.getProjection()});n.setTracking(!0);var t=new h.Z;n.on("change:accuracyGeometry",(function(){t.setGeometry(n.getAccuracyGeometry()||void 0)}));var r=new h.Z;r.setStyle(new P.ZP({image:new A.Z({radius:6,fill:new C.Z({color:"#3399CC"}),stroke:new k.Z({color:"#fff",width:2})})})),n.on("change:position",(function(){var e=n.getPosition();r.setGeometry(e?new x.Z(e):void 0)}));var i=new y.Z({source:new S.Z({features:[t,r]}),zIndex:1e3}),s=new v.default({title:"\uc911\uacc4\uae30",layers:[]});X(s);var d=new c.Z({target:"map",layers:[new v.default({title:"Base maps",layers:[new v.default({title:"OSM",type:"base",combine:!0,visible:!0,layers:[new m.Z({source:new j.Z({url:"https://tile.osmand.net/hd/{z}/{x}/{y}.png",crossOrigin:null,tilePixelRatio:2,maxZoom:19,tileSize:256,attributionsCollapsible:!1})})]})]}),new v.default({title:"GPS \ubcf8\uc778 \uc704\uce58",layers:[i]}),s],view:e});d.addControl(new f.Z({units:"metric"}));var p={reverse:!0,groupSelectStyle:"children",startActive:!0,activationMode:"click"},Z=new(u())(p);d.addControl(Z),I(d),fetch("data/repeater.csv").then(function(){var e,n=(e=o().mark((function e(n){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.text();case 2:(t=e.sent)&&(r=(0,l.Z)(t),G(r));case 4:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function l(e){K(i,r,o,l,a,"next",e)}function a(e){K(i,r,o,l,a,"throw",e)}l(void 0)}))});return function(e){return n.apply(this,arguments)}}())}),[]),M.useEffect((function(){if(s&&T){var e=new y.Z({source:new b.Z({source:new S.Z({features:new p.Z({dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"}).readFeatures(T)})}),style:R});V&&V.getLayers().push(e);var n=new Z.Z({condition:d.V4,layers:[e],multi:!0,hitTolerance:10,style:z});s.addInteraction(n);n.on("select",(function(e){if(e.selected.length>0){var t=W(e.mapBrowserEvent.pixel,2),r=t[0],o=t[1],i=[];e.selected.forEach((function(e){var n;(n=i).push.apply(n,ee(e.getProperties().features.map((function(e){return e.getProperties()}))))}));e.preventDefault(),F(i),_(null===Y?{mouseX:r,mouseY:o}:null),n.getFeatures().clear()}}))}}),[s,T]);return(0,i.jsxs)("div",{id:"map",style:{width:"100%",height:"100%"},children:[(0,i.jsx)(E,{contextMenu:Y,setContextMenu:_,contextMenuFeaturesData:N,setRepeaterInfo:function(e){t({open:!0,repeaterInfo:e})}}),(0,i.jsx)(q,{open:n.open,onClose:function(){return t(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Q(e,n,t[n])}))}return e}({},n,{open:!1}))},repeaterInfo:n.repeaterInfo})]})}}}]);